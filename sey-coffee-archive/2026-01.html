<!DOCTYPE html>
<html lang="ko" class="dark"> <!-- Default to Dark Mode for impact -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SEY Coffee Archive - 2026.01 :: RHINE-LAB-KR</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;600;700&family=Noto+Sans+KR:wght@400;500;700&family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet">

    <!-- Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        // Light Mode Colors
                        'light-bg': '#f8fafc',
                        'light-panel': 'rgba(255, 255, 255, 0.8)',
                        'light-text': '#0f172a',

                        // Dark Mode Colors
                        'dark-bg': '#0f172a', /* Slate 900 */
                        'dark-panel': 'rgba(15, 23, 42, 0.6)', /* Darker glass */
                        'dark-text': '#f1f5f9',

                        // Shared Accents
                        'rhine-accent': '#84cc16', /* Lime 500 */
                        'rhine-neon': '#a3e635', /* Lime 400 */
                    },
                    fontFamily: {
                        'mono': ['"JetBrains Mono"', 'monospace'],
                        'sans': ['"Rajdhani"', '"Noto Sans KR"', 'sans-serif'],
                    },
                    animation: {
                        'slide-in-right': 'slideInRight 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards',
                        'pulse-slow': 'pulse 3s infinite',
                        'scan': 'scan 4s linear infinite',
                    },
                    keyframes: {
                        slideInRight: {
                            '0%': { transform: 'translateX(20px)', opacity: '0' },
                            '100%': { transform: 'translateX(0)', opacity: '1' }
                        },
                        scan: {
                            '0%': { transform: 'translateY(-100%)' },
                            '100%': { transform: 'translateY(100%)' }
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body {
            overflow: hidden;
            transition: background-color 0.5s ease, color 0.5s ease;
        }

        /* Scrollbar */
        ::-webkit-scrollbar { width: 4px; height: 4px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #64748b; border-radius: 2px; }

        /* Background Grid Animation */
        .bg-grid {
            background-size: 40px 40px;
            background-image:
                linear-gradient(to right, rgba(100, 116, 139, 0.1) 1px, transparent 1px),
                linear-gradient(to bottom, rgba(100, 116, 139, 0.1) 1px, transparent 1px);
            mask-image: radial-gradient(circle at center, black 40%, transparent 100%);
        }

        /* Glassmorphism Panel */
        .rhine-glass {
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(148, 163, 184, 0.2);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            transition: background-color 0.3s, border-color 0.3s;
        }

        .dark .rhine-glass {
            border-color: rgba(132, 204, 22, 0.3); /* Lime border in dark mode */
            box-shadow: 0 0 15px rgba(132, 204, 22, 0.05);
        }

        /* Tech Corners */
        .tech-corner {
            position: absolute;
            width: 8px; height: 8px;
            border-color: #84cc16;
            transition: all 0.3s ease;
            opacity: 0.5;
        }
        .dark .tech-corner { opacity: 1; box-shadow: 0 0 5px #84cc16; }

        .corner-tl { top: -1px; left: -1px; border-top: 2px solid; border-left: 2px solid; }
        .corner-tr { top: -1px; right: -1px; border-top: 2px solid; border-right: 2px solid; }
        .corner-bl { bottom: -1px; left: -1px; border-bottom: 2px solid; border-left: 2px solid; }
        .corner-br { bottom: -1px; right: -1px; border-bottom: 2px solid; border-right: 2px solid; }

        /* Typewriter Cursor */
        .typing::after {
            content: '|';
            animation: blink 1s step-start infinite;
            color: #84cc16;
        }
        @keyframes blink { 50% { opacity: 0; } }

        /* Toggle Switch */
        .toggle-checkbox:checked {
            right: 0;
            border-color: #84cc16;
        }
        .toggle-checkbox:checked + .toggle-label {
            background-color: #84cc16;
        }

        /* Archive Modal */
        .archive-modal {
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .archive-modal.active {
            opacity: 1;
            visibility: visible;
        }
        .archive-modal-content {
            transform: translateY(-20px) scale(0.95);
            transition: transform 0.3s ease;
        }
        .archive-modal.active .archive-modal-content {
            transform: translateY(0) scale(1);
        }
    </style>
<meta name="generator" content="Hexo 8.1.1"></head>
<body class="font-sans h-screen w-screen flex flex-col bg-light-bg text-light-text dark:bg-dark-bg dark:text-dark-text selection:bg-rhine-accent selection:text-white">

    <!-- Backgrounds -->
    <div class="absolute inset-0 bg-grid pointer-events-none opacity-50"></div>
    <div id="canvas-container" class="absolute inset-0 z-0 pointer-events-none mix-blend-multiply dark:mix-blend-screen transition-opacity duration-500"></div>

    <!-- Header -->
    <header class="h-14 md:h-16 flex items-center justify-between px-3 md:px-6 z-40 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md border-b border-slate-200 dark:border-slate-700 shrink-0 transition-colors duration-300">
        <div class="flex items-center gap-3 md:gap-4">
            <div class="w-8 h-8 md:w-10 md:h-10 bg-slate-900 dark:bg-rhine-accent text-white dark:text-slate-900 flex items-center justify-center font-bold text-base md:text-lg tracking-tighter shadow-md transition-colors duration-300">
                RL
            </div>
            <div>
                <a href="/" class="hover:opacity-80 transition-opacity">
                    <h1 class="text-lg md:text-xl font-bold tracking-tight leading-none">RHINE-LAB-KR</h1>
                </a>
                <div class="text-[9px] md:text-[10px] text-slate-500 dark:text-rhine-neon tracking-[0.2em] md:tracking-[0.3em] font-mono font-bold mt-0.5 md:mt-1">
                    ECOLOGICAL SECTION <span class="text-rhine-accent">// ARCHIVE: 2026.01</span>
                </div>
            </div>
        </div>

        <div class="flex items-center gap-3 md:gap-6 font-mono text-xs">
            
            <!-- Back Button (Archive Page) -->
            <a href="/sey-coffee" class="flex items-center gap-1 md:gap-2 px-2 md:px-3 py-1 bg-slate-100 dark:bg-slate-800 rounded border border-slate-200 dark:border-slate-600 hover:bg-rhine-accent hover:text-white hover:border-rhine-accent transition-all cursor-pointer">
                <i data-lucide="arrow-left" class="w-3 h-3"></i>
                <span class="hidden md:inline font-bold">BACK</span>
            </a>
            

            <!-- Mode Toggle -->
            <div class="flex items-center gap-2 md:gap-3">
                <span class="hidden md:inline text-[10px] font-bold uppercase text-slate-400">System Mode</span>
                <button id="theme-toggle" class="relative inline-flex items-center h-5 md:h-6 rounded-full w-9 md:w-11 transition-colors focus:outline-none bg-slate-200 dark:bg-slate-700">
                    <span class="sr-only">Toggle Mode</span>
                    <span id="toggle-circle" class="translate-x-0.5 inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-200 dark:translate-x-4 md:dark:translate-x-6 dark:bg-rhine-accent"></span>
                </button>
            </div>

            <div class="hidden md:flex items-center gap-2 px-3 py-1 bg-slate-100 dark:bg-slate-800 rounded border border-slate-200 dark:border-slate-600 transition-colors">
                <div class="w-2 h-2 bg-rhine-accent rounded-full animate-pulse"></div>
                <span class="font-bold">ONLINE</span>
            </div>

            <div id="clock" class="text-sm md:text-lg font-bold w-12 md:w-20 text-right">00:00</div>
        </div>
    </header>

    <!-- Main Layout -->
    <main class="flex-1 flex flex-row overflow-hidden relative z-10 p-2 md:p-5 gap-2 md:gap-5">

        <!-- SIDEBAR -->
        <aside class="w-16 md:w-64 shrink-0 flex flex-col gap-2 md:gap-3 z-20 h-full">
            <div class="flex justify-center md:justify-between items-end border-b-2 border-slate-900 dark:border-rhine-accent pb-2 transition-colors">
                <span class="text-xs font-mono font-bold uppercase flex items-center gap-0 md:gap-2">
                    <i data-lucide="database" class="w-5 h-5 md:w-3 md:h-3"></i>
                    <span class="hidden md:inline">Index</span>
                </span>
                <span class="hidden md:inline text-[10px] font-mono bg-slate-200 dark:bg-slate-700 px-1 rounded transition-colors">V.3.5</span>
            </div>

            <div class="rhine-glass bg-light-panel dark:bg-dark-panel flex-1 rounded flex flex-col overflow-hidden relative">
                <ul id="bean-list" class="flex-1 overflow-y-auto py-2 px-1 md:px-2 space-y-1">
                    <!-- List Items -->
                </ul>
            </div>
        </aside>

        <!-- CONTENT AREA -->
        <section class="flex-1 flex flex-col gap-3 md:gap-5 overflow-hidden z-20">

            <!-- Detail Header -->
            <div class="flex justify-between items-start rhine-glass bg-light-panel dark:bg-dark-panel p-4 md:p-6 relative overflow-hidden group rounded-sm animate-slide-in-right shrink-0">
                <div class="tech-corner corner-tl"></div>
                <div class="tech-corner corner-tr"></div>
                <div class="absolute inset-0 bg-gradient-to-b from-transparent via-rhine-accent/5 to-transparent h-1/4 w-full animate-scan opacity-0 dark:opacity-30 pointer-events-none"></div>

                <div class="relative z-10 w-full">
                    <div class="flex items-center gap-2 mb-2">
                        <span class="px-2 py-0.5 bg-slate-900 dark:bg-rhine-accent text-white dark:text-slate-900 text-[9px] md:text-[10px] font-mono font-bold uppercase tracking-wider rounded-sm transition-colors">Classified</span>
                        <span class="text-[10px] md:text-xs font-mono text-rhine-accent dark:text-rhine-neon font-bold">> TARGET LOCKED</span>
                    </div>
                    <h2 id="bean-name" class="text-3xl md:text-5xl lg:text-6xl font-bold uppercase tracking-tighter leading-none drop-shadow-sm dark:text-white transition-colors truncate">
                        SELECT DATA
                    </h2>
                </div>
                <div class="text-right hidden sm:block relative z-10">
                    <div class="font-mono text-3xl md:text-5xl font-bold text-slate-200 dark:text-slate-700 tracking-tighter transition-colors" id="bean-id-display">--</div>
                    <div class="text-[10px] font-mono text-slate-400 mt-1">REF_ID</div>
                </div>
            </div>

            <!-- Scrollable Content -->
            <div class="flex-1 overflow-y-auto pr-1 md:pr-2 pb-10">
                <div class="grid grid-cols-1 md:grid-cols-12 gap-3 md:gap-5">

                    <!-- LEFT COL: Description (8 cols) -->
                    <div class="md:col-span-8 flex flex-col gap-3 md:gap-5">
                        <div class="rhine-glass bg-light-panel dark:bg-dark-panel p-4 md:p-6 relative transition-all animate-slide-in-right" style="animation-delay: 0.1s">
                            <div class="tech-corner corner-bl"></div>
                            <div class="tech-corner corner-br"></div>

                            <h3 class="text-xs font-mono text-slate-500 dark:text-slate-400 mb-2 md:mb-4 uppercase tracking-widest flex items-center gap-2 font-bold border-b border-slate-200 dark:border-slate-700 pb-2">
                                <i data-lucide="file-text" class="w-3 h-3 text-rhine-accent"></i>
                                Observation Log
                            </h3>
                            <p id="bean-description" class="text-sm md:text-base leading-6 md:leading-7 font-medium min-h-[80px] typing">
                                Awaiting selection from the database index...
                            </p>
                        </div>

                        <div class="rhine-glass bg-light-panel dark:bg-dark-panel p-3 md:p-5 animate-slide-in-right" style="animation-delay: 0.2s">
                            <h3 class="text-xs font-mono text-slate-500 dark:text-slate-400 mb-2 md:mb-3 uppercase tracking-widest flex items-center gap-2 font-bold">
                                <i data-lucide="activity" class="w-3 h-3 text-rhine-accent"></i>
                                Sensory Spectrum
                            </h3>
                            <div id="flavor-container" class="flex flex-wrap gap-2"></div>
                        </div>
                    </div>

                    <!-- RIGHT COL: Specs (4 cols) -->
                    <div class="md:col-span-4 flex flex-col gap-3 md:gap-4 animate-slide-in-right" style="animation-delay: 0.3s">
                        <div class="rhine-glass bg-light-panel dark:bg-dark-panel p-3 md:p-4 flex flex-col gap-3 md:gap-4 relative">
                             <div class="tech-corner corner-tr"></div>

                            <div class="group cursor-default">
                                <span class="text-[10px] font-mono text-slate-400 uppercase block mb-0.5 md:mb-1 font-bold">Origin Coordinates</span>
                                <div id="bean-region" class="font-bold text-sm md:text-base group-hover:text-rhine-accent transition-colors">---</div>
                                <div id="bean-altitude" class="text-[10px] md:text-xs text-slate-500 font-mono mt-0.5">---</div>
                            </div>
                            <div class="h-px bg-slate-200 dark:bg-slate-700 w-full"></div>
                            <div class="group cursor-default">
                                <span class="text-[10px] font-mono text-slate-400 uppercase block mb-0.5 md:mb-1 font-bold">Biological Spec</span>
                                <div id="bean-variety" class="font-bold text-sm md:text-base group-hover:text-rhine-accent transition-colors">---</div>
                                <div id="bean-process" class="text-[10px] md:text-xs text-slate-500 font-mono mt-0.5">---</div>
                            </div>
                        </div>

                        <div class="bg-slate-900 dark:bg-rhine-accent text-white dark:text-slate-900 p-4 md:p-5 mt-auto relative overflow-hidden group shadow-lg cursor-pointer transform hover:-translate-y-1 transition-all duration-300 rounded-sm">
                            <div class="absolute right-0 top-0 p-2 opacity-50">
                                <i data-lucide="credit-card" class="w-4 h-4"></i>
                            </div>
                            <div class="relative z-10">
                                <div class="text-[10px] font-mono opacity-70 mb-1 uppercase tracking-wider font-bold">Market Value (DDP)</div>
                                <div id="bean-price" class="text-2xl md:text-3xl font-mono font-bold tracking-tighter">---</div>
                            </div>
                            <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700 ease-in-out"></div>
                        </div>

                    </div>
                </div>
            </div>
        </section>

    </main>

    

    <script>
        const coffeeData = [{"id":"01","name":"Harmufo","region":"Gedeb, Ethiopia","variety":"Ethiopian Landrace","process":"Honey","altitude":"2300-2400m","price":"$17.61/KG","notes":["Lemon Candy","Ripe Berries","Honeydew"],"desc":"에티오피아 게뎁 고지대에서 분리된 희귀 로트. 36시간 수중 발효와 세심한 건조 과정을 통해 독보적인 클린컵과 단맛을 확보함."},{"id":"02","name":"L. Oviedo","region":"Palermo, Huila","variety":"Pink Bourbon","process":"Washed","altitude":"1700m","price":"$17.03/KG","notes":["Blueberry","Tangerine","Cane Sugar"],"desc":"새로운 생산자 레오넬 오비에도의 핑크 버본. 워시드 가공임에도 내추럴에 가까운 풍부한 과일 향미와 사탕수수의 단맛."},{"id":"03","name":"Gerbota","region":"Yirgacheffe","variety":"Ethiopian Landrace","process":"Washed","altitude":"2100m","price":"$16.54/KG","notes":["Nectarine","Bergamot","Wildflower Honey"],"desc":"예가체프 게데오의 게르보타 사이트 첫 릴리스. 전형적인 예가체프의 화사함에 꿀 같은 질감이 더해진 복합성."},{"id":"04","name":"F. Betancourt","region":"Palestina, Huila","variety":"Pink Bourbon","process":"Washed","altitude":"1750m","price":"$17.74/KG","notes":["Lemon Candy","Strawberry","Oolong"],"desc":"2세대 생산자 플로르의 섬세한 가공. 40시간 건조 발효를 통해 우롱차의 여운과 딸기의 산미를 동시에 표현."},{"id":"05","name":"Benti Nenka","region":"Guji, Ethiopia","variety":"Ethiopian Landrace","process":"Washed","altitude":"1925-2110m","price":"$13.74/KG","notes":["Ripe Peach","Star Fruit","Melon"],"desc":"구지 지역 함벨라 와메나의 스테디셀러. 589명의 소규모 농부가 만들어낸 일관되고 깨끗한 복숭아 뉘앙스."},{"id":"06","name":"Dogo Sodu","region":"Guji, Ethiopia","variety":"Ethiopian Landrace","process":"Washed","altitude":"2200m","price":"$14.68/KG","notes":["Lemongrass","Stone Fruit","Honey"],"desc":"시즌의 대미를 장식하는 구지 셀렉션. 레몬그라스의 허브 노트와 핵과류의 산미가 조화로운 피날레."}];

        const themeToggleBtn = document.getElementById('theme-toggle');
        const html = document.documentElement;
        let isDark = true;

        themeToggleBtn.addEventListener('click', () => {
            isDark = !isDark;
            if(isDark) {
                html.classList.add('dark');
            } else {
                html.classList.remove('dark');
            }
            updateThreeColors();
        });

        const listEl = document.getElementById('bean-list');
        let activeIndex = 0;
        let typingInterval;

        function renderList() {
            listEl.innerHTML = '';
            coffeeData.forEach((bean, idx) => {
                const isActive = idx === activeIndex;
                const li = document.createElement('li');

                const baseClass = "cursor-pointer py-3 md:py-2.5 px-0 md:px-3 mb-1 border-l-2 md:border-l-[3px] transition-all duration-200 flex items-center justify-center md:justify-between text-xs group rounded-r-sm";
                const activeClass = isActive
                    ? "border-rhine-accent bg-slate-200 dark:bg-slate-800 text-slate-900 dark:text-white font-bold shadow-sm"
                    : "border-transparent text-slate-500 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800/50";

                li.className = `${baseClass} ${activeClass}`;

                li.innerHTML = `
                    <div class="flex items-center gap-0 md:gap-3 justify-center md:justify-start w-full">
                        <span class="font-mono text-xs md:text-[10px] w-auto md:w-4 opacity-50">${bean.id || String(idx + 1).padStart(2, '0')}</span>
                        <span class="hidden md:block tracking-tight uppercase font-medium truncate">${bean.name}</span>
                    </div>
                    ${isActive ? '<i data-lucide="chevron-right" class="hidden md:block w-3 h-3 text-rhine-accent"></i>' : ''}
                `;
                li.onclick = () => loadData(idx);
                listEl.appendChild(li);
            });
            lucide.createIcons();
        }

        function loadData(idx) {
            activeIndex = idx;
            renderList();
            const bean = coffeeData[idx];

            const titleEl = document.getElementById('bean-name');
            titleEl.style.opacity = '0';
            titleEl.style.transform = 'translateY(10px)';

            setTimeout(() => {
                titleEl.innerText = bean.name;
                titleEl.style.opacity = '1';
                titleEl.style.transform = 'translateY(0)';
                titleEl.style.transition = 'all 0.3s ease-out';

                document.getElementById('bean-id-display').innerText = bean.id || String(idx + 1).padStart(2, '0');
                document.getElementById('bean-region').innerText = bean.region;
                document.getElementById('bean-altitude').innerText = bean.altitude;
                document.getElementById('bean-variety').innerText = bean.variety;
                document.getElementById('bean-process').innerText = bean.process;
                document.getElementById('bean-price').innerText = bean.price;

                typeWriter(document.getElementById('bean-description'), bean.desc);

                const fContainer = document.getElementById('flavor-container');
                fContainer.innerHTML = '';
                (bean.notes || []).forEach((note, i) => {
                    const tag = document.createElement('span');
                    tag.style.animation = `slideInRight 0.4s ease-out ${i * 0.1}s forwards`;
                    tag.style.opacity = '0';
                    tag.className = 'px-3 py-1 bg-white/50 dark:bg-slate-800/50 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-rhine-accent text-xs font-mono font-bold uppercase hover:bg-rhine-accent hover:text-white hover:border-rhine-accent transition-all cursor-default tracking-wide transform shadow-sm backdrop-blur-sm';
                    tag.innerText = note;
                    fContainer.appendChild(tag);
                });
            }, 100);

            if(group) {
                targetRotationY += Math.PI;
            }
        }

        function typeWriter(el, text) {
            if(typingInterval) clearInterval(typingInterval);
            el.innerHTML = '';
            el.classList.add('typing');

            let i = 0;
            const speed = 25;

            typingInterval = setInterval(() => {
                if(i < text.length) {
                    el.innerHTML += text.charAt(i);
                    i++;
                } else {
                    clearInterval(typingInterval);
                    el.classList.remove('typing');
                }
            }, speed);
        }

        // --- THREE.JS ---
        let scene, camera, renderer, group;
        let coreMesh, outerMesh, ringMesh, particlesMesh;
        let mouseX = 0, mouseY = 0;
        let targetRotationY = 0;

        function initThree() {
            const container = document.getElementById('canvas-container');

            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);
            camera.position.z = 4;

            renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
            renderer.setSize(container.clientWidth, container.clientHeight);
            renderer.setPixelRatio(window.devicePixelRatio);
            container.appendChild(renderer.domElement);

            group = new THREE.Group();
            scene.add(group);

            const coreGeo = new THREE.IcosahedronGeometry(1.0, 1);
            const coreMat = new THREE.MeshBasicMaterial({
                color: 0x84cc16,
                wireframe: true,
                transparent: true,
                opacity: 0.8
            });
            coreMesh = new THREE.Mesh(coreGeo, coreMat);
            group.add(coreMesh);

            const outerGeo = new THREE.IcosahedronGeometry(2.0, 2);
            const outerMat = new THREE.MeshBasicMaterial({
                color: 0x475569,
                wireframe: true,
                transparent: true,
                opacity: 0.3
            });
            outerMesh = new THREE.Mesh(outerGeo, outerMat);
            group.add(outerMesh);

            const ringGeo = new THREE.TorusGeometry(2.4, 0.02, 32, 100);
            const ringMat = new THREE.MeshBasicMaterial({
                color: 0x84cc16,
                transparent: true,
                opacity: 0.6
            });
            ringMesh = new THREE.Mesh(ringGeo, ringMat);
            ringMesh.rotation.x = Math.PI / 2;
            group.add(ringMesh);

            const particlesGeo = new THREE.BufferGeometry();
            const particlesCount = 200;
            const posArray = new Float32Array(particlesCount * 3);
            for(let i=0; i<particlesCount*3; i++) {
                posArray[i] = (Math.random() - 0.5) * 8;
            }
            particlesGeo.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
            const particlesMat = new THREE.PointsMaterial({
                size: 0.04,
                color: 0x84cc16,
                transparent: true,
                opacity: 0.5
            });
            particlesMesh = new THREE.Points(particlesGeo, particlesMat);
            group.add(particlesMesh);

            updateThreeColors();

            document.addEventListener('mousemove', onDocumentMouseMove, false);
            window.addEventListener('resize', onWindowResize, false);
        }

        function updateThreeColors() {
            if(!coreMesh) return;

            if(isDark) {
                coreMesh.material.color.setHex(0x84cc16);
                coreMesh.material.opacity = 0.8;
                outerMesh.material.color.setHex(0x334155);
                outerMesh.material.opacity = 0.3;
                ringMesh.material.color.setHex(0x84cc16);
                ringMesh.material.opacity = 0.6;
                particlesMesh.material.color.setHex(0x84cc16);
            } else {
                coreMesh.material.color.setHex(0x0f172a);
                coreMesh.material.opacity = 0.6;
                outerMesh.material.color.setHex(0x64748b);
                outerMesh.material.opacity = 0.2;
                ringMesh.material.color.setHex(0x0f172a);
                ringMesh.material.opacity = 0.3;
                particlesMesh.material.color.setHex(0x475569);
            }
        }

        function onDocumentMouseMove(event) {
            mouseX = (event.clientX - window.innerWidth / 2) * 0.001;
            mouseY = (event.clientY - window.innerHeight / 2) * 0.001;
        }

        function onWindowResize() {
            const container = document.getElementById('canvas-container');
            camera.aspect = container.clientWidth / container.clientHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(container.clientWidth, container.clientHeight);
        }

        function animate() {
            requestAnimationFrame(animate);

            coreMesh.rotation.y += 0.002;
            outerMesh.rotation.y -= 0.001;
            ringMesh.rotation.z -= 0.003;
            ringMesh.rotation.x = (Math.PI / 2) + Math.sin(Date.now() * 0.001) * 0.1;
            particlesMesh.rotation.y += 0.0005;

            group.rotation.y += (mouseX * 0.5 - group.rotation.y) * 0.05;
            group.rotation.x += (mouseY * 0.5 - group.rotation.x) * 0.05;

            if(Math.abs(targetRotationY) > 0.01) {
                coreMesh.rotation.y += targetRotationY * 0.1;
                outerMesh.rotation.y += targetRotationY * 0.05;
                targetRotationY *= 0.95;
            }

            renderer.render(scene, camera);
        }

        setInterval(() => {
            const now = new Date();
            const timeString = now.toLocaleTimeString('en-US', { hour12: false });
            document.getElementById('clock').innerText = timeString;
        }, 1000);

        // --- ARCHIVE MODAL ---
        

        window.addEventListener('DOMContentLoaded', () => {
            initThree();
            animate();
            renderList();
            if(coffeeData.length > 0) {
                loadData(0);
            }
            lucide.createIcons();
        });

    </script>
</body>
</html>
